<!doctype html>
<html>

<head>
  <title>D3 Tutorial</title>
  <script src="http://d3js.org/d3.v3.min.js"></script>
</head>

<body>

  <script>

    d3.json("wordcounter.json" , function (data) {

      var color = d3.scale.category10();

      var canvas = d3.select("body").append("svg")
          .attr("width" , 2000)
          .attr("height" , 50000)

      canvas.selectAll("rect")
          .data (data)
          .enter()
            .append("rect")
            .attr("width", function (d) {return d.quantity * 20; })
            .attr("height", 48)
            .attr("y", function (d ,i){return i * 50; })
            .attr("fill", function(d, i) { return color(i%5); })

      canvas.selectAll("text")
          .data(data)
          .enter()
            .append("text")
            .attr("fill" , "black")
            .attr("y", function (d ,i){return i * 50 + 24; })
            .text(function (d) { return d.name + ' : '+ d.quantity; })




    })

  </script>

</body>

</html>
